<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="members">

<!-- 사용자 정보 쿼리 -->

	<insert id="signUpMember" parameterType="member">
		insert into member_entire_tb values(member_entire_tb_SEQ.nextval,#{memberId},#{memberPw},#{memberName},
											#{memberNickName},#{memberGender},#{memberBirth},#{memberEmail},#{memberPhone},
											sysdate,#{memberAvatar})
	</insert>
	
	<select id="selectOneMember" resultType="member">
		select 
			mb_entire_pk as memberEntire,
			mb_id as memberId,
			mb_pw as memberPw,
			mb_name as memberName,
			mb_nickname as memberNickName,
			mb_gender as memberGender,
			mb_birth as memberBirth,
			mb_email as memberEmail,
			mb_phone as memberPhone,
			mb_regdate as memberRegDate
			
			from member_entire_tb
			
			where mb_id=#{memberId} and mb_pw=#{memberPw}
			
	</select>
	
	<delete id="deleteMember">
		delete from member_entire_tb where mb_id=#{memberId} and mb_pw=#{memberPw}
	</delete>
	
	<update id="updateMember">
		update member_entire_tb set mb_pw=#{memberPw}, mb_nickname=#{memberNickName}, 
											mb_email=#{memberEmail}, mb_phone=#{memberPhone}
											
	</update>

	
	<select id="idCheck" resultType="member">
	select 
			mb_id as memberId
	from member_entire_tb
	where mb_id=#{memberId}
	
	</select>
	
	<select id="nickCheck" resultType="member">
	select 
			mb_nickname as memberNickName
	from member_entire_tb
	where mb_nickname=#{memberNickName}
	
	</select>
	
	

</mapper>